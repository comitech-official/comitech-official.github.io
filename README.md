# comitech-official.github.io
こみてっく！準備会のウェブサイト。ウェブ執筆者は下記をよく読んでから編集・執筆してください。

## 仕様について
### 技術構成
- Jekyll

### つかいかた
1. 基本的には`.md`形式でのファイルを`docs/`以下に配置して`ogrin/main`ブランチに`git push`すると、`https://comitech-official.github.io/`以下に自動で即時公開されます。
    - `.md`形式について詳しくない場合は各自調べてください。
    - 内部的には「[Karmdown](https://kramdown.gettalong.org/)」というパーサーを用いて`.md`形式のファイルを解釈しています。
        - 意図しない表示になるなどのトラブルについてはパーサーの仕様について調べて解消してください。
        - 例えば、段落中に改行を発生させたい場合、以下のように行末に`\`を置いてから改行する必要があります。
            ```
            　一段落目のコンテンツ。段落末尾は一行空ける。

            　二段落目のコンテンツは途中改行したい場合、スラッシュを配置して改行。\
            　次の行を一行空けず直接記述する。

            　三段落目以下略。
            ```
1. 記事を追加する際は、`sample.md`ファイルを`docs/`以下の適当な箇所にコピペ配置して、ファイル名と内容を編集してください。
    - `.md`ファイルの先頭には、`YAML`形式でヘッダーを記述する必要があります。現在の必須項目は`layout:`、`title:`、`description`です。記載例は以下の通りです。
        ```
        ---
        layout: default
        title: ページタイトル
        discription: これはページの概要です。
        ---
        ## 中見出し
        文章以下略。
        ```
    - `layout:`はサイトデザインのテンプレートを選択するものです。現在は`layout: default`のみが使用できます。
    - ページタイトルは`title:`の物を自動でサイト上に反映しますので、本文に改めて記述する必要はありません。
    - この項目は随時追加される場合があります。この場合はサークルdiscordで案内します。
1. `.md`ファイル中のリンクは、`docs/assets/js/link_format.js`によって最適化されます。
    - サイト内へのリンクは、`[ほげ](/hoge)`と記載することで、`https://comitech-official.github.io/hoge`に自動変換されます。トップページへのリンクは`[ほげ](/)`のみで大丈夫です。
    - サイト外へのリンクは、`[ふが](https://example.com)`と記載することで、自動で別タブで開くように調整されます。
        - サイト内のリンクであっても`https://comitech-official.github.io`から始まる絶対パスで記述した場合は別タブで開きますので、注意してください。
1. 2025年11月1日以降、`orgin/main`ブランチでの直接作業は原則禁止とします。
    - 別のブランチ(e.g. `[username]_work`)で作業を行い、一旦このブランチに最新ブランチを`git merge`とコンフリクトの解消を行ってから、作業内容を`orgin/main`に反映させてください。

### ローカル環境でのプレビュー方法
前提：githubリポジトリがローカルにcloneされている。
1. Docker Desktop のインストール
    1. [こちら](https://www.docker.com/products/docker-desktop/)からDocker Desktop Installer をダウンロード。
    1. ダウンロードしたインストーラを起動して、インストール。
        1. Widowsにおいて、WSL2がインストールされていない場合はインストールされる。再現性情報求ム
        1. インストール後に再起動が要求される。
1. Dokcer Desktop の起動
1. コマンドプロンプトで`docker pull jekyll/jekyll:pages`を実行
1. コマンドプロンプトでルートディレクトリに移動し、`docker-compose up`を実行
    - 起動しない場合、`ctrl+C`を1回押すと解決する場合あり
1. `localhost:4000/`にアクセス
作業終了時は`ctrl+C`で終了。

### こんなときは？
- 検索エンジンからはアクセスできないページを作成したい
    - 技術的には可能ですが記事ファイル側で制御する方法が実装されていないので、web担当に相談してください。
- もっと複雑なページを作りたい
    - `.md`ファイルには直接`html`タグを記載することが可能です。
- `style.css`をいじっていい？
    - サイト全体のデザインについてはウェブ担当・デザイン担当が行います。
    - ページ単位でインラインの`<style>`要素を追加するのは可能ですが、`.md`ファイル外のヘッダーなどにも適用されないように、`class`パラメタなどを利用して十分配慮してください。
        - この注意書きの意味がよくわからないのであれば使用しないでください。